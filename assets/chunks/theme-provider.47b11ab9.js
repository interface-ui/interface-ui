import{u as k,i as b,T as j}from"./use-theme.92009c81.js";import{Y as C,d as x,h as r,x as y,H as P}from"./framework.64a5e477.js";const p=e=>{C("ThemeContext",e)},_=x({name:"ThemeProvider",props:{theme:{type:Object,required:!0},component:{type:[String,Object],default:"div"},watcher:{type:Function}},emits:["update:theme"],setup(e,{slots:m,emit:u}){const d=document.documentElement,t=r(e.theme),s=e.theme.target==="host"?k():r(null),o=r(null),n=t.value._lightSchemes,h=t.value._darkSchemes,i=b(t.value.target,n,h,t.value),l=a=>{const c=e.theme.target==="root"?d:o.value,{schemes:T}=a==="dark"?h:n;a==="dark"?c.setAttribute("data-theme","dark"):c.removeAttribute("data-theme");const{palettes:f,target:S,schemes:w}=t.value;t.value=new j({...w,...T},f,a,n,h,S),u("update:theme",t.value)},v=e.theme.target==="root"?()=>e.theme.mode:()=>{var a;return((a=s.value)==null?void 0:a.mode)??e.theme.mode};e.watcher?e.watcher():y(v,l),p(t);const g=e.component;return()=>{var a;return t.value.target==="root"?(a=m.default)==null?void 0:a.call(m):P(g,{ref:o,class:i},{default:()=>{var c;return[(c=m.default)==null?void 0:c.call(m)]}})}}});export{_ as T};
